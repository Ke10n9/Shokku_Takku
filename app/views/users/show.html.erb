<% provide(:title, @user.name) %>
<div class="row">
  <%#= render 'shared/menu_form' %>
  <div class="col-md-12 calendar-container">
    <%= render 'menus/menu_calendar' %>
  </div>
  <!-- <div class="plus-button" id="js-show-popup"> -->
    <%#= link_to image_tag("register_menu.png"), new_menu_path, remote: true %>
  <!-- </div> -->
  <!-- <div class="popup" id="js-popup">
    <div class="popup-inner">
      <div class="close-btn" id="js-close-btn"><i class="fas fa-times"></i></div> -->
      <%#= render 'shared/form' %>
    <!-- </div>
    <div class="black-background" id="js-black-bg"></div>
  </div> -->
  <!-- <div class="plus-button" id="js-show-popup"> -->
    <%= link_to 'New', new_menu_path, remote: true %>
    <%#= image_tag("register_menu.png") %>
  <!-- </div> -->
  <div id="user-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"></div>
</div>

<script>
  function popupImage() {
    var popup = document.getElementById('js-popup');
    if(!popup) return;

    var blackBg = document.getElementById('js-black-bg');

    var blackBg = document.getElementById('js-black-bg');
    var closeBtn = document.getElementById('js-close-btn');
    var showBtn = document.getElementById('js-show-popup');

    closePopUp(blackBg);
    closePopUp(closeBtn);
    closePopUp(showBtn);
    function closePopUp(elem) {
      if(!elem) return;
      elem.addEventListener('click', function() {
        popup.classList.toggle('is-show');
      });
    }
  }
  popupImage();
</script>
